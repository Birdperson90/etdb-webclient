<mat-horizontal-stepper *ngIf="!isMobile" #stepper [linear]="isLinear" (selectionChange)="selectionChanged($event)">
    <mat-step *ngFor="let step of steps; let i = index; let last = last;" [stepControl]="step.form" [label]="step.label"
        [optional]="step.isOptional">
        <ng-container *ngTemplateOutlet="step.template"></ng-container>
        <div class="flex-container flex-flow-row flex-justify-end">
            <div>
                <button *ngIf="i > 0" type="button" mat-button matStepperPrevious>{{ previousButtonLabel }}</button>
            </div>
            <div>
                <button type="button" mat-button matStepperNext (click)="step.submit()">{{ rightButtonText(last) }}
                </button>
            </div>
        </div>
    </mat-step>
</mat-horizontal-stepper>

<mat-vertical-stepper *ngIf="isMobile" #stepper [linear]="isLinear" (selectionChange)="selectionChanged($event)">
    <mat-step *ngFor="let step of steps; let i = index; let last = last;" [stepControl]="step.form" [label]="step.label"
        [optional]="step.isOptional">
        <ng-container *ngTemplateOutlet="step.template"></ng-container>

        <div class="flex-container flex-flow-row flex-justify-end">
            <div>
                <button *ngIf="i > 0" type="button" mat-button matStepperPrevious>{{ previousButtonLabel }}</button>
            </div>
            <div>
                <button type="button" mat-button matStepperNext (click)="step.submit()">{{ rightButtonText(last) }}
                </button>
            </div>
        </div>
    </mat-step>
</mat-vertical-stepper>
